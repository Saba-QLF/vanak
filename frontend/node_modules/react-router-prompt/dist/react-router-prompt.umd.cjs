(function(o,n){typeof exports=="object"&&typeof module<"u"?n(exports,require("react/jsx-runtime"),require("react"),require("react-router-dom")):typeof define=="function"&&define.amd?define(["exports","react/jsx-runtime","react","react-router-dom"],n):(o=typeof globalThis<"u"?globalThis:o||self,n(o.ReactRouterPrompt={},o["react/jsx-runtime"],o.react,o.reactRouterDom))})(this,function(o,n,u,s){"use strict";function c(e){const t=s.useBlocker(e);return u.useEffect(()=>{t.state==="blocked"&&!e&&t.reset()},[t,e]),s.useBeforeUnload(u.useCallback(r=>{(typeof e=="boolean"&&e===!0||typeof e=="function"&&e())&&(r.preventDefault(),r.returnValue="Changes that you made may not be saved.")},[e]),{capture:!0}),t}const a=e=>{const t=c(e),r=()=>{t.state==="blocked"&&t.reset()},i=()=>{t.state==="blocked"&&setTimeout(t.proceed,0)};return{isActive:t.state==="blocked",onConfirm:i,resetConfirmation:r}};function l({when:e,children:t,beforeCancel:r,beforeConfirm:i}){const{isActive:m,onConfirm:f,resetConfirmation:d}=a(e),p=u.useCallback(async()=>{i&&await i(),f()},[i,f]),k=u.useCallback(async()=>{r&&await r(),d()},[r,d]);return m?n.jsx(n.Fragment,{children:t({isActive:!0,onConfirm:p,onCancel:k})}):null}o.default=l,o.useConfirm=a,o.usePrompt=c,Object.defineProperties(o,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
